ui ai툴 Rocket, vzero


중첩 라우팅 (Nested Routing)
개념

부모–자식 관계를 가진 라우트 구조
부모 라우트가 공통 레이아웃을 제공하고, 자식 라우트가 그 안에서 렌더링된다.


사용하는 이유

1) 코드 재사용 : 공통 레이아웃 중복 제거
2) 일관된 UI : 같은 섹션의 페이지가 동일한 네비게이션 사용
3) 유지보수 용이 : 레이아웃 수정 시 한 곳만 변경
4) URL 구조화
/dashboard
/dashboard/expenses
/dashboard/settings


기본 구조

부모 라우트 → 레이아웃
자식 라우트 → 콘텐츠

Layout 컴포넌트
// Layout.jsx
import { Outlet } from "react-router-dom";

function Layout() {
  return (
    <div>
      <header>공통 헤더</header>
      <nav>공통 네비게이션</nav>

      <main>
        <Outlet /> {/* 자식 라우트 렌더링 */}
      </main>

      <footer>공통 푸터</footer>
    </div>
  );
}


Context API & 전역 인증 상태 관리


Context API란?

React에서 **전역 상태(Global State)**를
props drilling 없이 컴포넌트 트리 전체에 공유하기 위한 API

Context API가 필요한 이유

· Props Drilling 문제
상위 → 하위 컴포넌트로 props를 계속 전달
구조 복잡, 유지보수 어려움

Context API
필요한 컴포넌트에서 직접 상태 접근
코드 간결, 구조 명확

Context API로 전역 인증 상태 관리
step1 Context생성 (Create), step2 범위 지정 및 값 공급(Provide), step3 데이터 사용(Consume)


JWT 인증 기반 라우트 보호

인증 흐름

1. 로그인 요청
Client → POST /api/auth/login
2. 토큰 발급
Server(Spring Boot) → JWT 반환
3.  토큰 저장
Client → localStorage 저장 (실무: HttpOnly Cookie 권장)
4. 인증 요청
모든 API 요청에 Authorization: Bearer {token}
5. 라우트 보호
토큰 없으면 로그인 페이지로 리다이렉트

보호된 라우트 개념

AuthContext에서 토큰 유무 확인, 인증되지 않으면 접근 차단





replace:true 뒤로가기 눌러도 로그인 페이지 안가게
